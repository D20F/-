<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>vuerouter | D的文档</title>
    <meta name="generator" content="VuePress 1.5.0">
    
    <meta name="description" content="Just playing around">
    <link rel="preload" href="/assets/css/0.styles.0b318b54.css" as="style"><link rel="preload" href="/assets/js/app.48dd4854.js" as="script"><link rel="preload" href="/assets/js/2.aebb972b.js" as="script"><link rel="preload" href="/assets/js/16.e0bfa6af.js" as="script"><link rel="prefetch" href="/assets/js/10.4bab6fb2.js"><link rel="prefetch" href="/assets/js/11.28e17787.js"><link rel="prefetch" href="/assets/js/12.89221a85.js"><link rel="prefetch" href="/assets/js/13.31ec1a04.js"><link rel="prefetch" href="/assets/js/14.8962c958.js"><link rel="prefetch" href="/assets/js/15.262b2b07.js"><link rel="prefetch" href="/assets/js/17.5a3c4e80.js"><link rel="prefetch" href="/assets/js/18.b7431abd.js"><link rel="prefetch" href="/assets/js/19.c96122ba.js"><link rel="prefetch" href="/assets/js/20.8de8bc64.js"><link rel="prefetch" href="/assets/js/21.90c7f2f8.js"><link rel="prefetch" href="/assets/js/22.a52f10b2.js"><link rel="prefetch" href="/assets/js/23.eb2bc61c.js"><link rel="prefetch" href="/assets/js/24.4c542a8a.js"><link rel="prefetch" href="/assets/js/25.9e0cd35f.js"><link rel="prefetch" href="/assets/js/26.b3177508.js"><link rel="prefetch" href="/assets/js/27.5ba11491.js"><link rel="prefetch" href="/assets/js/28.6b1328e7.js"><link rel="prefetch" href="/assets/js/29.55ef748f.js"><link rel="prefetch" href="/assets/js/3.1924d9ec.js"><link rel="prefetch" href="/assets/js/30.b7f8197d.js"><link rel="prefetch" href="/assets/js/31.f395c1f5.js"><link rel="prefetch" href="/assets/js/32.a3489538.js"><link rel="prefetch" href="/assets/js/33.e72e9f85.js"><link rel="prefetch" href="/assets/js/34.df608972.js"><link rel="prefetch" href="/assets/js/35.1babc587.js"><link rel="prefetch" href="/assets/js/36.d2e64498.js"><link rel="prefetch" href="/assets/js/37.79bb606b.js"><link rel="prefetch" href="/assets/js/38.1e628ede.js"><link rel="prefetch" href="/assets/js/39.0ecd8b4b.js"><link rel="prefetch" href="/assets/js/4.5a7a9155.js"><link rel="prefetch" href="/assets/js/40.252e90f1.js"><link rel="prefetch" href="/assets/js/41.a50c31b5.js"><link rel="prefetch" href="/assets/js/42.f33c8d62.js"><link rel="prefetch" href="/assets/js/43.52e1bb8f.js"><link rel="prefetch" href="/assets/js/44.e77bba20.js"><link rel="prefetch" href="/assets/js/45.105f1758.js"><link rel="prefetch" href="/assets/js/5.04ff6f2e.js"><link rel="prefetch" href="/assets/js/6.2c920cb7.js"><link rel="prefetch" href="/assets/js/7.83e68577.js"><link rel="prefetch" href="/assets/js/8.a9d54c90.js"><link rel="prefetch" href="/assets/js/9.c0a522e6.js">
    <link rel="stylesheet" href="/assets/css/0.styles.0b318b54.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="D的文档" class="logo"> <span class="site-name can-hide">D的文档</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="https://github.com/D20F" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://106.53.202.188:8080" target="_blank" rel="noopener noreferrer" class="nav-link external">
  个人项目展示
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="https://github.com/D20F" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://106.53.202.188:8080" target="_blank" rel="noopener noreferrer" class="nav-link external">
  个人项目展示
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Vue</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/D20F/Vue/vue.html" class="sidebar-link">vue</a></li><li><a href="/D20F/Vue/vuerouter.html" class="active sidebar-link">vue router</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/D20F/Vue/vuerouter.html#例子" class="sidebar-link">例子</a></li><li class="sidebar-sub-header"><a href="/D20F/Vue/vuerouter.html#路由懒加载有什么意义" class="sidebar-link">路由懒加载有什么意义</a></li><li class="sidebar-sub-header"><a href="/D20F/Vue/vuerouter.html#路由模式" class="sidebar-link">路由模式</a></li></ul></li><li><a href="/D20F/Vue/vuex.html" class="sidebar-link">vuex</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>React</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>面试专栏</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>前端</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>后端</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Go</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>混合开发</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>通用</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Package</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Css</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>微信</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="vuerouter"><a href="#vuerouter" class="header-anchor">#</a> vuerouter</h1> <h2 id="例子"><a href="#例子" class="header-anchor">#</a> 例子</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> VueRouter <span class="token keyword">from</span> <span class="token string">'vue-router'</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>VueRouter<span class="token punctuation">)</span>

<span class="token keyword">const</span> routes <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    path<span class="token operator">:</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span><span class="token string">&quot;My&quot;</span><span class="token punctuation">,</span>
    explain<span class="token operator">:</span><span class="token string">&quot;我的&quot;</span><span class="token punctuation">,</span>
    <span class="token function-variable function">component</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&quot;../views/My.vue&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>

<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// 路由模式改为 history</span>
  <span class="token comment">// mode: 'history',</span>
  base<span class="token operator">:</span> __dirname<span class="token punctuation">,</span>
  routes
<span class="token punctuation">}</span><span class="token punctuation">)</span>

router<span class="token punctuation">.</span><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
<span class="token comment">// to: Route: 即将要进入的目标 路由对象</span>

<span class="token comment">// from: Route: 当前导航正要离开的路由</span>

<span class="token comment">// next: Function: 一定要调用该方法来 resolve 这个钩子。执行效果依赖 next 方法的调用参数。</span>
<span class="token comment">// next(name: 'Login')还可以用来重定向</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> router

</code></pre></div><h2 id="路由懒加载有什么意义"><a href="#路由懒加载有什么意义" class="header-anchor">#</a> 路由懒加载有什么意义</h2> <p>路由懒加载的含义：把不同路由对应的组件分割成不同的代码块，然后当路由被访问的时候才加载对应组件</p> <h2 id="路由模式"><a href="#路由模式" class="header-anchor">#</a> 路由模式</h2> <p>vue-router 路由模式有</p> <table><thead><tr><th>模式</th> <th style="text-align:center;">介绍</th></tr></thead> <tbody><tr><td>hash</td> <td style="text-align:center;">使用 URL hash 值来作路由。支持所有浏览器，包括不支持 HTML5 History Api 的浏览器</td></tr> <tr><td>history</td> <td style="text-align:center;">依赖 HTML5 History API 和服务器配置。具体可以查看 HTML5 History 模式</td></tr> <tr><td>abstract</td> <td style="text-align:center;">支持所有 JavaScript 运行环境，如 Node.js 服务器端。如果发现没有浏览器的 API，路由会自动强制进入这个模式</td></tr></tbody></table> <p>hash 一句话总结 使用地址栏的hash来实现，通过 hashchange事件来监听hash值变化，实现对页面的跳转</p> <p>history 一句话总结 使用h5的API History来实现，通过pushState和repalceState操控history 使用popstate事件来监听 history值变化，实现对页面的跳转</p> <ol><li>hash 模式的实现原理
早期的前端路由的实现就是基于 location.hash 来实现的。</li></ol> <p>URL 中 hash 值只是客户端的一种状态，也就是说当向服务器端发出请求时，hash 部分不会被发送；</p> <p>hash 值的改变，都会在浏览器的访问历史中增加一个记录。因此我们能通过浏览器的回退、前进按钮控制hash 的切换；</p> <p>使用 JavaScript 来对 loaction.hash 进行赋值，改变 URL 的 hash 值；</p> <p>我们可以使用 hashchange 事件来监听 hash 值的变化，从而对页面进行跳转（渲染）。</p> <ol start="2"><li>history 模式的实现原理
HTML5 提供了 History API 来实现 URL 的变化。使用history.pushState() 和 history.repalceState()。</li></ol> <p>API 来操作实现 URL 的变化</p> <p>我们可以使用 popstate  事件来监听 url 的变化，从而对页面进行跳转（渲染）；</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/D20F/Vue/vue.html" class="prev">
        vue
      </a></span> <span class="next"><a href="/D20F/Vue/vuex.html">
        vuex
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.48dd4854.js" defer></script><script src="/assets/js/2.aebb972b.js" defer></script><script src="/assets/js/16.e0bfa6af.js" defer></script>
  </body>
</html>
